/* src/components/Gallery/stack-preview.css */

.stack-preview {
  display: block;
  text-decoration: none;
  color: inherit;
}

/* A local 3D stage so the main card + backers share shadows smoothly */
.stack-stage {
  position: relative;
  --sp-h: 260px;
  padding: 8px;          /* was 18px, tighter */
  overflow: visible;     /* keep the look but inside cell */
}

/* ===== Blank backers (no image) ===== */
.stack-back {
  position: absolute;
  inset: 18px;              /* same as stage padding to align with main card */
  border-radius: 12px;
  background: #f2f5f2;      /* paper tone */
  border: 2px solid #d9ded9;
  box-shadow:
    0 2px 0 #c7cec7,
    0 14px 28px rgba(0,0,0,0.12);
  z-index: 0;               /* under the main card */
  transition: transform 220ms ease, box-shadow 220ms ease;
}

/* ===== Main polaroid card ===== */
.stack-polaroid {
  position: relative;
  background: #f9faf9;                 /* paper */
  border: 2px solid #d9ded9;            /* edge */
  border-radius: 12px;
  padding: 12px 12px 22px;              /* extra bottom = polaroid feel */
  box-shadow:
    0 2px 0 #c7cec7,
    0 16px 36px rgba(0,0,0,0.14);
  overflow: hidden;
  transition: transform 220ms ease, box-shadow 220ms ease, filter 220ms ease;
  will-change: transform, box-shadow, filter;
  z-index: 1;                           /* above backers */
}

/* Taller image + centered crop */
.stack-polaroid img {
  display: block;
  width: 100%;
  height: var(--sp-h);
  object-fit: cover;
  object-position: center center; /* ensure central focus */
  border-radius: 8px;
  filter: saturate(0.95) contrast(1.02);
}

/* caption chip */
.stack-caption {
  position: absolute;
  left: 16px;
  bottom: 12px;
  padding: 6px 10px;
  font-size: 0.86rem;
  font-weight: 800;
  letter-spacing: 0.02em;
  color: #ffffff;
  background: rgba(22, 24, 22, 0.55);
  border-radius: 8px;
  backdrop-filter: blur(1px);
}

/* Hover: bold yet elegant */
.stack-preview:hover .stack-polaroid {
  transform: translateY(-6px) scale(1.035);
  box-shadow:
    0 4px 0 #c7cec7,
    0 24px 48px rgba(0,0,0,0.18);
  filter: drop-shadow(0 12px 34px rgba(0,0,0,0.18));
}
.stack-preview:hover .stack-back {
  box-shadow:
    0 3px 0 #c7cec7,
    0 18px 40px rgba(0,0,0,0.16);
}

/* Featured variant: slightly stronger presence even at rest */
.stack-stage.is-featured .stack-polaroid {
  box-shadow:
    0 2px 0 #c7cec7,
    0 20px 44px rgba(0,0,0,0.20);
}
